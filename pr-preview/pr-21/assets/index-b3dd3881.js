import{q as P,p as F,t as k,_ as p,r as o,z as R,C as D,E as T,j as s,I as E,J as O,b as v,S as B,u as L,e as f,a8 as U,L as z,a1 as $,g as V,T as W,a9 as q,aa as S,ab as J,ac as G,m as h,D as H,B as K,n as Q,O as X,ad as Y}from"./index-af8d8960.js";import{u as Z,T as tt}from"./index.esm-99bbc568.js";import{M as st,P as et}from"./MultipleSort-a61ce338.js";import{M as at,I as ot,D as rt}from"./InfinityScroll-b3b548d9.js";import{I as it}from"./IconButton-98365ab8.js";function nt(t){return P("MuiListItemAvatar",t)}F("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ct=["className"],lt=t=>{const{alignItems:e,classes:r}=t;return O({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},nt,r)},mt=k("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>p({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),dt=o.forwardRef(function(e,r){const i=R({props:e,name:"MuiListItemAvatar"}),{className:n}=i,c=D(i,ct),l=o.useContext(T),m=p({},i,{alignItems:l.alignItems}),d=lt(m);return s.jsx(mt,p({className:E(d.root,n),ownerState:m,ref:r},c))}),ut=dt,gt=v(t=>t.studios.studios,t=>t),xt=v(t=>t.studios.isLoading,t=>t);class C{constructor({search:e}){this.search=e}}const pt="_aside_1iiw9_1",ft="_form_1iiw9_13",I={aside:pt,form:ft},St=o.forwardRef((t,e)=>s.jsx(B,{ref:e,...t,children:t.children})),ht="_studioCard_1uc4k_1",It="_avatar_1uc4k_11",jt="_avatarImg_1uc4k_16",x={studioCard:ht,avatar:It,avatarImg:jt},vt=o.forwardRef(({studio:t},e)=>{const r=L(),i=f(U),n=()=>{i&&r(q())};return s.jsxs(z,{className:x.studioCard,ref:e,component:St,to:`${t.id}`,onClick:n,children:[s.jsx(ut,{className:x.avatar,children:s.jsx($,{alt:"Studio cover",src:t.thumbnailImg,className:x.avatarImg})}),s.jsx(V,{primary:s.jsx(W,{fontSize:17,children:t.name})})]})}),Lt=o.memo(vt),N=[{field:S.Name,direction:""},{field:S.Modified,direction:""}],j={pagination:new et({pageSize:15,pageNumber:0}),sorting:N,filters:new C({search:""})},Ct={search:"",sorting:N},Nt=()=>{const t=L(),e=f(gt),r=f(xt),[i,n]=o.useState(!1),[c,l]=o.useState(j),[m,d]=o.useState(null);o.useEffect(()=>{t(J())},[]),o.useEffect(()=>{t(G(c))},[c]);const{register:_,handleSubmit:b,control:A}=Z({defaultValues:Ct}),w=()=>{l(a=>({...a,pagination:{...a.pagination,pageNumber:a.pagination.pageNumber+1}}))},u=()=>{n(a=>!a)},y=({search:a,sorting:g})=>{t(Y()),l({...j,sorting:g,filters:new C({search:a})}),u()},M=o.useCallback(a=>{d(a)},[]);return s.jsxs(h,{sx:{flex:1,display:"flex"},children:[s.jsx(H,{open:i,onClose:u,children:s.jsxs("form",{className:I.form,onSubmit:b(y),children:[s.jsx(tt,{label:"Search",..._("search")}),s.jsx(st,{name:"sorting",control:A,title:"Sorting",toReadable:S.toReadable}),s.jsx(K,{type:"submit",children:"Apply"})]})}),s.jsxs("aside",{className:I.aside,children:[s.jsx(it,{onClick:u,children:s.jsx(at,{})}),s.jsx(ot,{lastItemNode:m,onObserve:w,children:s.jsxs(s.Fragment,{children:[r&&e.length===0&&s.jsx(Q,{}),e.map((a,g)=>s.jsxs(h,{children:[s.jsx(Lt,{ref:g===e.length-1?M:null,studio:a}),s.jsx(rt,{})]},a.id))]})})]}),s.jsx(X,{})]})},Mt=o.memo(Nt);export{Mt as StudiosPage};
