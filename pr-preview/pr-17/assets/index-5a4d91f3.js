import{q as M,p as P,t as F,_ as x,r as o,z as R,C as T,E as k,j as s,I as D,J as E,b as v,L as B,a4 as U,g as z,T as O,a5 as f,u as V,e as S,a6 as W,a7 as $,m as I,D as q,B as J,n as G,a8 as H}from"./index-c8a07e91.js";import{u as K,T as Q}from"./index.esm-cbd95fa2.js";import{M as X,P as Y}from"./MultipleSort-ea3cac17.js";import{M as Z,I as tt,D as st}from"./InfinityScroll-533c41a5.js";import{I as et}from"./IconButton-5be9e7d5.js";function at(t){return M("MuiListItemAvatar",t)}P("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ot=["className"],rt=t=>{const{alignItems:e,classes:r}=t;return E({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},at,r)},nt=F("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>x({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),it=o.forwardRef(function(e,r){const n=R({props:e,name:"MuiListItemAvatar"}),{className:m}=n,i=T(n,ot),l=o.useContext(k),c=x({},n,{alignItems:l.alignItems}),d=rt(c);return s.jsx(nt,x({className:D(d.root,m),ownerState:c,ref:r},i))}),lt=it,ct=v(t=>t.studios.studios,t=>t),mt=v(t=>t.studios.isLoading,t=>t);class L{constructor({search:e}){this.search=e}}const dt="_aside_138wd_1",ut="_form_138wd_10",h={aside:dt,form:ut},gt="_studioCard_1uc4k_1",pt="_avatar_1uc4k_11",xt="_avatarImg_1uc4k_16",p={studioCard:gt,avatar:pt,avatarImg:xt},ft=o.forwardRef(({studio:t},e)=>s.jsxs(B,{ref:e,className:p.studioCard,children:[s.jsx(lt,{className:p.avatar,children:s.jsx(U,{alt:"Studio cover",src:t.thumbnailImg,className:p.avatarImg})}),s.jsx(z,{primary:s.jsx(O,{fontSize:17,children:t.name})})]})),St=o.memo(ft),C=[{field:f.Name,direction:""},{field:f.Modified,direction:""}],j={pagination:new Y({pageSize:15,pageNumber:0}),sorting:C,filters:new L({search:""})},It={search:"",sorting:C},ht=()=>{const t=V(),e=S(ct),r=S(mt),[n,m]=o.useState(!1),[i,l]=o.useState(j),[c,d]=o.useState(null);o.useEffect(()=>{t(W())},[]),o.useEffect(()=>{t($(i))},[i]);const{register:_,handleSubmit:N,control:b}=K({defaultValues:It}),A=()=>{l(a=>({...a,pagination:{...a.pagination,pageNumber:a.pagination.pageNumber+1}}))},u=()=>{m(a=>!a)},y=({search:a,sorting:g})=>{t(H()),l({...j,sorting:g,filters:new L({search:a})}),u()},w=o.useCallback(a=>{d(a)},[]);return s.jsxs(I,{sx:{flex:1,display:"flex"},children:[s.jsx(q,{open:n,onClose:u,children:s.jsxs("form",{className:h.form,onSubmit:N(y),children:[s.jsx(Q,{label:"Search",..._("search")}),s.jsx(X,{name:"sorting",control:b,title:"Sorting",toReadable:f.toReadable}),s.jsx(J,{type:"submit",children:"Apply"})]})}),s.jsxs("aside",{className:h.aside,children:[s.jsx(et,{onClick:u,children:s.jsx(Z,{})}),s.jsx(tt,{lastItemNode:c,onObserve:A,children:s.jsxs(s.Fragment,{children:[r&&e.length===0&&s.jsx(G,{}),e.map((a,g)=>s.jsxs(I,{children:[s.jsx(St,{ref:g===e.length-1?w:null,studio:a}),s.jsx(st,{})]},a.id))]})})]})]})},Nt=o.memo(ht);export{Nt as StudiosPage};
