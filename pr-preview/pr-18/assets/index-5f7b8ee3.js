import{v as F,t as P,w as k,_ as f,r as o,E as R,F as D,H as T,j as s,K as E,M as O,b as v,U,u as L,f as p,a8 as B,L as $,d as z,e as V,T as W,a9 as H,aa as S,ab as K,ac as q,h,D as G,B as J,g as Q,O as X,ad as Y}from"./index-9629f001.js";import{u as Z,T as tt,I as st}from"./index.esm-25290496.js";import{M as et,a as at,I as ot,D as rt,P as it}from"./InfinityScroll-5238e489.js";function nt(t){return F("MuiListItemAvatar",t)}P("MuiListItemAvatar",["root","alignItemsFlexStart"]);const ct=["className"],lt=t=>{const{alignItems:e,classes:r}=t;return O({root:["root",e==="flex-start"&&"alignItemsFlexStart"]},nt,r)},dt=k("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.alignItems==="flex-start"&&e.alignItemsFlexStart]}})(({ownerState:t})=>f({minWidth:56,flexShrink:0},t.alignItems==="flex-start"&&{marginTop:8})),mt=o.forwardRef(function(e,r){const i=R({props:e,name:"MuiListItemAvatar"}),{className:n}=i,c=D(i,ct),l=o.useContext(T),d=f({},i,{alignItems:l.alignItems}),m=lt(d);return s.jsx(dt,f({className:E(m.root,n),ownerState:d,ref:r},c))}),ut=mt,gt=v(t=>t.studios.studios,t=>t),xt=v(t=>t.studios.isLoading,t=>t);class C{constructor({search:e}){this.search=e}}const ft="_aside_1iiw9_1",pt="_form_1iiw9_13",I={aside:ft,form:pt},St=o.forwardRef((t,e)=>s.jsx(U,{ref:e,...t,children:t.children})),ht="_studioCard_1uc4k_1",It="_avatar_1uc4k_11",jt="_avatarImg_1uc4k_16",x={studioCard:ht,avatar:It,avatarImg:jt},vt=o.forwardRef(({studio:t},e)=>{const r=L(),i=p(B),n=()=>{i&&r(H())};return s.jsxs($,{className:x.studioCard,ref:e,component:St,to:`${t.id}`,onClick:n,children:[s.jsx(ut,{className:x.avatar,children:s.jsx(z,{alt:"Studio cover",src:t.thumbnailImg,className:x.avatarImg})}),s.jsx(V,{primary:s.jsx(W,{fontSize:17,children:t.name})})]})}),Lt=o.memo(vt),N=[{field:S.Name,direction:""},{field:S.Modified,direction:""}],j={pagination:new it({pageSize:15,pageNumber:0}),sorting:N,filters:new C({search:""})},Ct={search:"",sorting:N},Nt=()=>{const t=L(),e=p(gt),r=p(xt),[i,n]=o.useState(!1),[c,l]=o.useState(j),[d,m]=o.useState(null);o.useEffect(()=>{t(K())},[]),o.useEffect(()=>{t(q(c))},[c]);const{register:_,handleSubmit:b,control:A}=Z({defaultValues:Ct}),w=()=>{l(a=>({...a,pagination:{...a.pagination,pageNumber:a.pagination.pageNumber+1}}))},u=()=>{n(a=>!a)},y=({search:a,sorting:g})=>{t(Y()),l({...j,sorting:g,filters:new C({search:a})}),u()},M=o.useCallback(a=>{m(a)},[]);return s.jsxs(h,{sx:{flex:1,display:"flex"},children:[s.jsx(G,{open:i,onClose:u,children:s.jsxs("form",{className:I.form,onSubmit:b(y),children:[s.jsx(tt,{label:"Search",..._("search")}),s.jsx(et,{name:"sorting",control:A,title:"Sorting",toReadable:S.toReadable}),s.jsx(J,{type:"submit",children:"Apply"})]})}),s.jsxs("aside",{className:I.aside,children:[s.jsx(st,{onClick:u,children:s.jsx(at,{})}),s.jsx(ot,{lastItemNode:d,onObserve:w,children:s.jsxs(s.Fragment,{children:[r&&e.length===0&&s.jsx(Q,{}),e.map((a,g)=>s.jsxs(h,{children:[s.jsx(Lt,{ref:g===e.length-1?M:null,studio:a}),s.jsx(rt,{})]},a.id))]})})]}),s.jsx(X,{})]})},wt=o.memo(Nt);export{wt as StudiosPage};
