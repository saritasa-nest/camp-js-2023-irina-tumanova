import{g as S,a as _,s as w,_ as c,r as i,u as U,b as O,j as n,c as h,d as D,e as x,f as ee,i as pe,h as te,B as se,k as ue,l as oe,G as V,m as me,n as ne,o as ge,p as ye,q as fe,t as be,v as ve}from"./index-69668e40.js";import{L,i as K,T as G,a as xe,t as Ce,F as Ie,I as $e,C as he,S as Le,u as Se,b as Pe}from"./typedMemo-1c76197b.js";const Re=S("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Q=Re;function Me(e){return _("MuiListItem",e)}const je=S("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),M=je,Ne=S("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Te=Ne;function Ae(e){return _("MuiListItemSecondaryAction",e)}S("MuiListItemSecondaryAction",["root","disableGutters"]);const Ge=["className"],Oe=e=>{const{disableGutters:t,classes:s}=e;return D({root:["root",t&&"disableGutters"]},Ae,s)},we=w("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>c({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ae=i.forwardRef(function(t,s){const o=U({props:t,name:"MuiListItemSecondaryAction"}),{className:a}=o,l=O(o,Ge),r=i.useContext(L),u=c({},o,{disableGutters:r.disableGutters}),d=Oe(u);return n.jsx(we,c({className:h(d.root,a),ownerState:u,ref:s},l))});ae.muiName="ListItemSecondaryAction";const ke=ae,Fe=["className"],Ve=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],Be=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},_e=e=>{const{alignItems:t,button:s,classes:o,dense:a,disabled:l,disableGutters:r,disablePadding:u,divider:d,hasSecondaryAction:m,selected:v}=e;return D({root:["root",a&&"dense",!r&&"gutters",!u&&"padding",d&&"divider",l&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction",v&&"selected"],container:["container"]},Me,o)},Ue=w("div",{name:"MuiListItem",slot:"Root",overridesResolver:Be})(({theme:e,ownerState:t})=>c({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&c({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Te.root}`]:{paddingRight:48}},{[`&.${M.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${M.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:x(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${M.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:x(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${M.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${M.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:x(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:x(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),De=w("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Ee=i.forwardRef(function(t,s){const o=U({props:t,name:"MuiListItem"}),{alignItems:a="center",autoFocus:l=!1,button:r=!1,children:u,className:d,component:m,components:v={},componentsProps:p={},ContainerComponent:f="li",ContainerProps:{className:P}={},dense:g=!1,disabled:y=!1,disableGutters:b=!1,disablePadding:C=!1,divider:j=!1,focusVisibleClassName:E,secondaryAction:N,selected:ie=!1,slotProps:re={},slots:ce={}}=o,le=O(o.ContainerProps,Fe),de=O(o,Ve),W=i.useContext(L),z=i.useMemo(()=>({dense:g||W.dense||!1,alignItems:a,disableGutters:b}),[a,W.dense,g,b]),H=i.useRef(null);ee(()=>{l&&H.current&&H.current.focus()},[l]);const R=i.Children.toArray(u),Y=R.length&&pe(R[R.length-1],["ListItemSecondaryAction"]),k=c({},o,{alignItems:a,autoFocus:l,button:r,dense:z.dense,disabled:y,disableGutters:b,disablePadding:C,divider:j,hasSecondaryAction:Y,selected:ie}),q=_e(k),J=te(H,s),F=ce.root||v.Root||Ue,T=re.root||p.root||{},I=c({className:h(q.root,T.className,d),disabled:y},de);let $=m||"li";return r&&(I.component=m||"div",I.focusVisibleClassName=h(M.focusVisible,E),$=se),Y?($=!I.component&&!m?"div":$,f==="li"&&($==="li"?$="div":I.component==="li"&&(I.component="div")),n.jsx(L.Provider,{value:z,children:n.jsxs(De,c({as:f,className:h(q.container,P),ref:J,ownerState:k},le,{children:[n.jsx(F,c({},T,!K(F)&&{as:$,ownerState:c({},k,T.ownerState)},I,{children:R})),R.pop()]}))})):n.jsx(L.Provider,{value:z,children:n.jsxs(F,c({},T,{as:$,ref:J},!K(F)&&{ownerState:c({},k,T.ownerState)},I,{children:[R,N&&n.jsx(ke,{children:N})]}))})}),ze=Ee,He=S("MuiListItemIcon",["root","alignItemsFlexStart"]),X=He;function We(e){return _("MuiListItemText",e)}const Ye=S("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),B=Ye,qe=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Je=e=>{const{classes:t,inset:s,primary:o,secondary:a,dense:l}=e;return D({root:["root",s&&"inset",l&&"dense",o&&a&&"multiline"],primary:["primary"],secondary:["secondary"]},We,t)},Ke=w("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${B.primary}`]:t.primary},{[`& .${B.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:e})=>c({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),Qe=i.forwardRef(function(t,s){const o=U({props:t,name:"MuiListItemText"}),{children:a,className:l,disableTypography:r=!1,inset:u=!1,primary:d,primaryTypographyProps:m,secondary:v,secondaryTypographyProps:p}=o,f=O(o,qe),{dense:P}=i.useContext(L);let g=d??a,y=v;const b=c({},o,{disableTypography:r,inset:u,primary:!!g,secondary:!!y,dense:P}),C=Je(b);return g!=null&&g.type!==G&&!r&&(g=n.jsx(G,c({variant:P?"body2":"body1",className:C.primary,component:m!=null&&m.variant?void 0:"span",display:"block"},m,{children:g}))),y!=null&&y.type!==G&&!r&&(y=n.jsx(G,c({variant:"body2",className:C.secondary,color:"text.secondary",display:"block"},p,{children:y}))),n.jsxs(Ke,c({className:h(C.root,l),ownerState:b,ref:s},f,{children:[g,y]}))}),Xe=Qe;function Ze(e){return _("MuiMenuItem",e)}const et=S("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),A=et,tt=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],st=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.divider&&t.divider,!s.disableGutters&&t.gutters]},ot=e=>{const{disabled:t,dense:s,divider:o,disableGutters:a,selected:l,classes:r}=e,d=D({root:["root",s&&"dense",t&&"disabled",!a&&"gutters",o&&"divider",l&&"selected"]},Ze,r);return c({},r,d)},nt=w(se,{shouldForwardProp:e=>ue(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:st})(({theme:e,ownerState:t})=>c({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${A.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:x(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${A.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:x(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${A.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:x(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:x(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${A.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${A.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Q.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Q.inset}`]:{marginLeft:52},[`& .${B.root}`]:{marginTop:0,marginBottom:0},[`& .${B.inset}`]:{paddingLeft:36},[`& .${X.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&c({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${X.root} svg`]:{fontSize:"1.25rem"}}))),at=i.forwardRef(function(t,s){const o=U({props:t,name:"MuiMenuItem"}),{autoFocus:a=!1,component:l="li",dense:r=!1,divider:u=!1,disableGutters:d=!1,focusVisibleClassName:m,role:v="menuitem",tabIndex:p,className:f}=o,P=O(o,tt),g=i.useContext(L),y=i.useMemo(()=>({dense:r||g.dense||!1,disableGutters:d}),[g.dense,r,d]),b=i.useRef(null);ee(()=>{a&&b.current&&b.current.focus()},[a]);const C=c({},o,{dense:y.dense,divider:u,disableGutters:d}),j=ot(o),E=te(b,s);let N;return o.disabled||(N=p!==void 0?p:-1),n.jsx(L.Provider,{value:y,children:n.jsx(nt,c({ref:E,role:v,tabIndex:N,component:l,focusVisibleClassName:h(j.focusVisible,m),className:h(j.root,f)},P,{ownerState:C,classes:j}))})}),it=at,rt=oe(e=>e.genres.genres,e=>e);oe(e=>e.genres.isLoading,e=>e);class ct{constructor({pageNumber:t,pageSize:s}){this.pageSize=s,this.pageNumber=t}}const lt=(e,t,s)=>{i.useEffect(()=>{if(e.current&&t.current){const o={root:e.current,threshold:0},a=new IntersectionObserver(l=>{l.every(r=>r.isIntersecting)&&s()},o);return a.observe(t.current),()=>{a.disconnect()}}},[e.current,t.current])},dt=({lastItemRef:e,getNextPaginationData:t,children:s})=>{const o=i.useRef(null);return lt(o,e,t),n.jsx(xe,{ref:o,sx:{maxHeight:"100%",overflowY:"auto"},children:s})},pt=i.memo(dt);class ut{constructor({field:t,direction:s}){this.field=t,this.direction=s}}const mt=({items:e,title:t,control:s,name:o,toReadable:a})=>{const l=i.useId();return n.jsxs(Ie,{sx:{m:1,width:300},children:[n.jsx($e,{children:t}),n.jsx(he,{control:s,name:o,render:({field:{onChange:r,...u}})=>n.jsx(Le,{...u,id:l,multiple:!0,onChange:r,children:e.map(d=>n.jsx(it,{value:d,children:a?a(d):d},d))})})]})},gt=Ce(mt),yt="_card_1r518_1",ft={card:yt},bt=i.forwardRef(({genre:e},t)=>n.jsx(ze,{ref:t,alignItems:"flex-start",className:ft.card,children:n.jsx(Xe,{primary:e.name,secondary:n.jsx(G,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:V.toReadable(e.type)})})})),vt=i.memo(bt),xt="_aside_1lwpd_1",Ct={aside:xt},Z={pagination:new ct({pageSize:5,pageNumber:0}),sorting:new ut({field:me.None,direction:"asc"}),filters:new ne({types:[],search:""})},It={types:[],search:""},$t=()=>{const e=ge(),t=ye(rt),[s,o]=i.useState(Z),a=i.useRef(null),l=()=>{o(p=>({...p,pagination:{...p.pagination,pageNumber:p.pagination.pageNumber+1}}))};i.useEffect(()=>{e(fe(s))},[s]);const{register:r,handleSubmit:u,control:d}=Se({defaultValues:It}),m=({types:p,search:f})=>{e(ve()),o({...Z,filters:new ne({types:p,search:f})})},v=i.useMemo(()=>V.toArray(),[V]);return n.jsxs("aside",{className:Ct.aside,children:[n.jsxs("form",{onSubmit:u(m),children:[n.jsx(gt,{name:"types",toReadable:V.toReadable,control:d,items:v,title:"Filter"}),n.jsx(Pe,{label:"Search",...r("search")}),n.jsx(be,{type:"submit",children:"Submit"})]}),n.jsx(pt,{lastItemRef:a,getNextPaginationData:l,children:t.map((p,f)=>n.jsx(vt,{ref:f===t.length-1?a:null,genre:p},p.id))})]})},St=i.memo($t);export{St as GenresPage};
