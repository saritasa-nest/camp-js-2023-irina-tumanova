import{g as k,a as A,s as M,_ as a,b as h,r as d,u as F,c as P,j as i,d as C,e as V,f as ee,i as pe,h as te,B as se,k as ue,l as oe,G as _,m as me,n as ie,o as ge,p as fe,q as ve,t as be,v as ye}from"./index-78c3ae84.js";import{L as R,i as K,T as G,a as xe,t as he,F as Ce,I as Ie,C as $e,S as Le,u as Re,b as Ae}from"./typedMemo-976d7e80.js";function Me(e){return k("MuiDivider",e)}const Se=A("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Q=Se,je=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Pe=e=>{const{absolute:t,children:s,classes:o,flexItem:r,light:l,orientation:n,textAlign:p,variant:c}=e;return V({root:["root",t&&"absolute",c,l&&"light",n==="vertical"&&"vertical",r&&"flexItem",s&&"withChildren",s&&n==="vertical"&&"withChildrenVertical",p==="right"&&n!=="vertical"&&"textAlignRight",p==="left"&&n!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",n==="vertical"&&"wrapperVertical"]},Me,o)},we=M("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.absolute&&t.absolute,t[s.variant],s.light&&t.light,s.orientation==="vertical"&&t.vertical,s.flexItem&&t.flexItem,s.children&&t.withChildren,s.children&&s.orientation==="vertical"&&t.withChildrenVertical,s.textAlign==="right"&&s.orientation!=="vertical"&&t.textAlignRight,s.textAlign==="left"&&s.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>a({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:h(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>a({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>a({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>a({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>a({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),Ne=M("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.wrapper,s.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>a({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),Te=d.forwardRef(function(t,s){const o=F({props:t,name:"MuiDivider"}),{absolute:r=!1,children:l,className:n,component:p=l?"div":"hr",flexItem:c=!1,light:m=!1,orientation:x="horizontal",role:b=p!=="hr"?"separator":void 0,textAlign:u="center",variant:y="fullWidth"}=o,f=P(o,je),g=a({},o,{absolute:r,component:p,flexItem:c,light:m,orientation:x,role:b,textAlign:u,variant:y}),v=Pe(g);return i.jsx(we,a({as:p,className:C(v.root,n),role:b,ref:s,ownerState:g},f,{children:l?i.jsx(Ne,{className:v.wrapper,ownerState:g,children:l}):null}))}),Oe=Te;function Ge(e){return k("MuiListItem",e)}const ke=A("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),j=ke,Fe=A("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),Ve=Fe;function Be(e){return k("MuiListItemSecondaryAction",e)}A("MuiListItemSecondaryAction",["root","disableGutters"]);const De=["className"],_e=e=>{const{disableGutters:t,classes:s}=e;return V({root:["root",t&&"disableGutters"]},Be,s)},Ue=M("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[t.root,s.disableGutters&&t.disableGutters]}})(({ownerState:e})=>a({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})),ne=d.forwardRef(function(t,s){const o=F({props:t,name:"MuiListItemSecondaryAction"}),{className:r}=o,l=P(o,De),n=d.useContext(R),p=a({},o,{disableGutters:n.disableGutters}),c=_e(p);return i.jsx(Ue,a({className:C(c.root,r),ownerState:p,ref:s},l))});ne.muiName="ListItemSecondaryAction";const We=ne,ze=["className"],Ee=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],He=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.alignItems==="flex-start"&&t.alignItemsFlexStart,s.divider&&t.divider,!s.disableGutters&&t.gutters,!s.disablePadding&&t.padding,s.button&&t.button,s.hasSecondaryAction&&t.secondaryAction]},Ye=e=>{const{alignItems:t,button:s,classes:o,dense:r,disabled:l,disableGutters:n,disablePadding:p,divider:c,hasSecondaryAction:m,selected:x}=e;return V({root:["root",r&&"dense",!n&&"gutters",!p&&"padding",c&&"divider",l&&"disabled",s&&"button",t==="flex-start"&&"alignItemsFlexStart",m&&"secondaryAction",x&&"selected"],container:["container"]},Ge,o)},qe=M("div",{name:"MuiListItem",slot:"Root",overridesResolver:He})(({theme:e,ownerState:t})=>a({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!t.disablePadding&&a({paddingTop:8,paddingBottom:8},t.dense&&{paddingTop:4,paddingBottom:4},!t.disableGutters&&{paddingLeft:16,paddingRight:16},!!t.secondaryAction&&{paddingRight:48}),!!t.secondaryAction&&{[`& > .${Ve.root}`]:{paddingRight:48}},{[`&.${j.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${j.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:h(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${j.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:h(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${j.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.alignItems==="flex-start"&&{alignItems:"flex-start"},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},t.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${j.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:h(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:h(e.palette.primary.main,e.palette.action.selectedOpacity)}}},t.hasSecondaryAction&&{paddingRight:48})),Je=M("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),Ke=d.forwardRef(function(t,s){const o=F({props:t,name:"MuiListItem"}),{alignItems:r="center",autoFocus:l=!1,button:n=!1,children:p,className:c,component:m,components:x={},componentsProps:b={},ContainerComponent:u="li",ContainerProps:{className:y}={},dense:f=!1,disabled:g=!1,disableGutters:v=!1,disablePadding:I=!1,divider:w=!1,focusVisibleClassName:W,secondaryAction:N,selected:ae=!1,slotProps:re={},slots:le={}}=o,ce=P(o.ContainerProps,ze),de=P(o,Ee),H=d.useContext(R),z=d.useMemo(()=>({dense:f||H.dense||!1,alignItems:r,disableGutters:v}),[r,H.dense,f,v]),E=d.useRef(null);ee(()=>{l&&E.current&&E.current.focus()},[l]);const S=d.Children.toArray(p),Y=S.length&&pe(S[S.length-1],["ListItemSecondaryAction"]),B=a({},o,{alignItems:r,autoFocus:l,button:n,dense:z.dense,disabled:g,disableGutters:v,disablePadding:I,divider:w,hasSecondaryAction:Y,selected:ae}),q=Ye(B),J=te(E,s),D=le.root||x.Root||qe,T=re.root||b.root||{},$=a({className:C(q.root,T.className,c),disabled:g},de);let L=m||"li";return n&&($.component=m||"div",$.focusVisibleClassName=C(j.focusVisible,W),L=se),Y?(L=!$.component&&!m?"div":L,u==="li"&&(L==="li"?L="div":$.component==="li"&&($.component="div")),i.jsx(R.Provider,{value:z,children:i.jsxs(Je,a({as:u,className:C(q.container,y),ref:J,ownerState:B},ce,{children:[i.jsx(D,a({},T,!K(D)&&{as:L,ownerState:a({},B,T.ownerState)},$,{children:S})),S.pop()]}))})):i.jsx(R.Provider,{value:z,children:i.jsxs(D,a({},T,{as:L,ref:J},!K(D)&&{ownerState:a({},B,T.ownerState)},$,{children:[S,N&&i.jsx(We,{children:N})]}))})}),Qe=Ke,Xe=A("MuiListItemIcon",["root","alignItemsFlexStart"]),X=Xe;function Ze(e){return k("MuiListItemText",e)}const et=A("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),U=et,tt=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],st=e=>{const{classes:t,inset:s,primary:o,secondary:r,dense:l}=e;return V({root:["root",s&&"inset",l&&"dense",o&&r&&"multiline"],primary:["primary"],secondary:["secondary"]},Ze,t)},ot=M("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:s}=e;return[{[`& .${U.primary}`]:t.primary},{[`& .${U.secondary}`]:t.secondary},t.root,s.inset&&t.inset,s.primary&&s.secondary&&t.multiline,s.dense&&t.dense]}})(({ownerState:e})=>a({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})),it=d.forwardRef(function(t,s){const o=F({props:t,name:"MuiListItemText"}),{children:r,className:l,disableTypography:n=!1,inset:p=!1,primary:c,primaryTypographyProps:m,secondary:x,secondaryTypographyProps:b}=o,u=P(o,tt),{dense:y}=d.useContext(R);let f=c??r,g=x;const v=a({},o,{disableTypography:n,inset:p,primary:!!f,secondary:!!g,dense:y}),I=st(v);return f!=null&&f.type!==G&&!n&&(f=i.jsx(G,a({variant:y?"body2":"body1",className:I.primary,component:m!=null&&m.variant?void 0:"span",display:"block"},m,{children:f}))),g!=null&&g.type!==G&&!n&&(g=i.jsx(G,a({variant:"body2",className:I.secondary,color:"text.secondary",display:"block"},b,{children:g}))),i.jsxs(ot,a({className:C(I.root,l),ownerState:v,ref:s},u,{children:[f,g]}))}),nt=it;function at(e){return k("MuiMenuItem",e)}const rt=A("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),O=rt,lt=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],ct=(e,t)=>{const{ownerState:s}=e;return[t.root,s.dense&&t.dense,s.divider&&t.divider,!s.disableGutters&&t.gutters]},dt=e=>{const{disabled:t,dense:s,divider:o,disableGutters:r,selected:l,classes:n}=e,c=V({root:["root",s&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",l&&"selected"]},at,n);return a({},n,c)},pt=M(se,{shouldForwardProp:e=>ue(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:ct})(({theme:e,ownerState:t})=>a({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${O.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:h(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${O.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:h(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${O.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:h(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:h(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${O.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${O.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${Q.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${Q.inset}`]:{marginLeft:52},[`& .${U.root}`]:{marginTop:0,marginBottom:0},[`& .${U.inset}`]:{paddingLeft:36},[`& .${X.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&a({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${X.root} svg`]:{fontSize:"1.25rem"}}))),ut=d.forwardRef(function(t,s){const o=F({props:t,name:"MuiMenuItem"}),{autoFocus:r=!1,component:l="li",dense:n=!1,divider:p=!1,disableGutters:c=!1,focusVisibleClassName:m,role:x="menuitem",tabIndex:b,className:u}=o,y=P(o,lt),f=d.useContext(R),g=d.useMemo(()=>({dense:n||f.dense||!1,disableGutters:c}),[f.dense,n,c]),v=d.useRef(null);ee(()=>{r&&v.current&&v.current.focus()},[r]);const I=a({},o,{dense:g.dense,divider:p,disableGutters:c}),w=dt(o),W=te(v,s);let N;return o.disabled||(N=b!==void 0?b:-1),i.jsx(R.Provider,{value:g,children:i.jsx(pt,a({ref:W,role:x,tabIndex:N,component:l,focusVisibleClassName:C(w.focusVisible,m),className:C(w.root,u)},y,{ownerState:I,classes:w}))})}),mt=ut,gt=oe(e=>e.genres.genres,e=>e);oe(e=>e.genres.isLoading,e=>e);class ft{constructor({pageNumber:t,pageSize:s}){this.pageSize=s,this.pageNumber=t}}const vt=(e,t,s)=>{d.useEffect(()=>{if(e.current&&t.current){const o={root:e.current,threshold:0},r=new IntersectionObserver(l=>{l.every(n=>n.isIntersecting)&&s()},o);return r.observe(t.current),()=>{r.disconnect()}}},[e.current,t.current])},bt=({lastItemRef:e,handleObserve:t,children:s})=>{const o=d.useRef(null);return vt(o,e,t),i.jsx(xe,{ref:o,sx:{maxHeight:"100%",overflowY:"auto"},children:s})},yt=d.memo(bt),xt=({items:e,title:t,control:s,name:o,toReadable:r})=>{const l=d.useId();return i.jsxs(Ce,{sx:{m:1,width:300},children:[i.jsx(Ie,{children:t}),i.jsx($e,{control:s,name:o,render:({field:{onChange:n,...p}})=>i.jsx(Le,{...p,id:l,multiple:!0,onChange:n,children:e.map(c=>i.jsx(mt,{value:c,children:r?r(c):c},c))})})]})},ht=he(xt);class Ct{constructor({field:t,direction:s}){this.field=t,this.direction=s}}const It="_card_1r518_1",$t={card:It},Lt=d.forwardRef(({genre:e},t)=>i.jsxs(i.Fragment,{children:[i.jsx(Qe,{ref:t,alignItems:"flex-start",className:$t.card,children:i.jsx(nt,{primary:e.name,secondary:i.jsx(G,{sx:{display:"inline"},component:"span",variant:"body2",color:"text.primary",children:_.toReadable(e.type)})})}),i.jsx(Oe,{})]})),Rt=d.memo(Lt),At="_aside_1lwpd_1",Mt={aside:At},Z={pagination:new ft({pageSize:5,pageNumber:0}),sorting:new Ct({field:me.None,direction:"asc"}),filters:new ie({types:[],search:""})},St={types:[],search:""},jt=()=>{const e=ge(),t=fe(gt),[s,o]=d.useState(Z),r=d.useRef(null),l=()=>{o(u=>({...u,pagination:{...u.pagination,pageNumber:u.pagination.pageNumber+1}}))};d.useEffect(()=>{e(ve(s))},[s]);const n=Re({defaultValues:St}),{register:p,handleSubmit:c,control:m}=n,x=({types:u,search:y})=>{e(ye()),o({...Z,filters:new ie({types:u,search:y})})},b=d.useMemo(()=>Object.values(_).slice(0,-1),[_]);return i.jsxs("aside",{className:Mt.aside,children:[i.jsxs("form",{onSubmit:c(x),children:[i.jsx(ht,{name:"types",toReadable:_.toReadable,control:m,items:b,title:"Filter"}),i.jsx(Ae,{label:"Search",...p("search")}),i.jsx(be,{type:"submit",children:"Submit"})]}),i.jsx(yt,{lastItemRef:r,handleObserve:l,children:t.map((u,y)=>i.jsx(Rt,{ref:y===t.length-1?r:null,genre:u},u.id))})]})},Nt=d.memo(jt);export{Nt as GenresPage};
